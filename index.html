<head>


  <style>
    body {
      font-family: "avenir next", Arial, sans-serif;
      margin: 0;
      background: lightgray;
    }

    .vis {
      top: 0;
      background: lightgray;
    }

    table {
      /*position: absolute;*/
      /*top: 10%;*/
      /*right: 35%;*/
    }

    td {
      /*min-width: 40px;*/
      border: black;
      border-style: ridge;
      padding: 5;
      border-width: thin;
    }

    td.data {
      /*min-width: 40px;*/
    }

    h1, h2 {
      text-align: center;
      padding-top: 1%;
    }

    svg {
      margin: auto;
      display: block;
    }

    .bubble {
      cursor: pointer;
    }

    .page {
      overflow-y: hidden;
      /*max-height: 500px; !* approximate max height *!*/

      transition-property: all;
      transition-duration: .5s;
      transition-timing-function: cubic-bezier(0, 1, 0.5, 1);
    }

    .closed {
      max-height: 0;
    }

    .nav {
      color: inherit;
      text-align: center;
      cursor: pointer;
    }

    .nav:hover {
      color: BLUE;
    }

    .float-container .custom-tooltip {
      display: none;
      background: white;
    }

    .float-container:hover .custom-tooltip {
      display: block;
      position: fixed;
      overflow: hidden;
    }

    .page-description {
      text-align: center;
    }

  </style>
</head>
<body onload="loadConstructorsPage()">
<h1>Formula 1 World Championships (1950 - 2020)</h1>
<div id="page-1" class="page closed">
  <h2>All Constructors</h2>
  <div class="float-container">
    <div id="page-1-description" class="page-description">
      <h3>All Constructors By Race Victories</h3>
      <p>Hover over a bubble for more details. Click on it for drilling down</p>
    </div>
    <div id='vis-all-constructors' class="vis float-child"></div>
    <div id="constructor-detail" class="float-child custom-tooltip closed">
      <table>
        <tr>
          <td>Constructor</td>
          <td id="td-constructor-name" class="data"></td>
        </tr>
        <tr>
          <td>Nationality</td>
          <td id="td-constructor-nationality" class="data"></td>
        </tr>
        <tr>
          <td>Races</td>
          <td id="td-constructor-races" class="data"></td>
        </tr>
        <tr>
          <td>Wins</td>
          <td id="td-constructor-wins" class="data"></td>
        </tr>
      </table>
    </div>
  </div>
</div>
<div id="page-2" class="page closed">
  <h2 id="page-2-title">Drivers</h2>
  <div class="float-container">
    <div id="page-2-description" class="page-description"></div>
    <!-- <a class='nav' onclick="gotoPage1()">❮ Back to All Constructors</a> -->
    <div id='vis-constructor-drivers' class="vis float-child"></div>
    <div id="driver-detail" class="float-child custom-tooltip closed">
      <table>
        <tr>
          <td>Driver</td>
          <td id="td-driver-name" class="data"></td>
        </tr>
        <tr>
          <td>Nationality</td>
          <td id="td-driver-nationality" class="data"></td>
        </tr>
        <tr>
          <td>Races</td>
          <td id="td-driver-races" class="data"></td>
        </tr>
        <tr>
          <td id="wins-for-con">Wins</td>
          <td id="td-driver-wins" class="data"></td>
        </tr>
        <tr>
          <td>First Season</td>
          <td id="td-driver-first-yr" class="data"></td>
        </tr>
        <tr>
          <td>Last Season</td>
          <td id="td-driver-last-yr" class="data"></td>
        </tr>
      </table>
    </div>
  </div>
</div>
<div id="page-3" class="page closed">
  <h2 id="page-3-title">Driver History</h2>
  <div class="float-container">
    <div id="page-3-description" class="page-description"></div>
    <!-- <a class='nav' id="page-3-back-btn" onclick="gotoPage2()">❮ Back to Constructor</a> -->
    <div id='vis-driver'></div>
    <div id="driver-year-detail" class="float-child custom-tooltip closed">
      <table>
        <tr>
          <td id="td-driver-year-wins" class="data"></td>
        </tr>
        <tr>
          <td id="td-driver-year-constructor" class="data"></td>
        </tr>
      </table>
    </div>
  </div>
</div>
</body>
<script src='https://d3js.org/d3.v5.min.js'></script>
<script>
  // var csv_root = "/Users/akshat/Fraternity/UIUC-MCS/CS416-Data-viz/narrative_viz/f1";
  var csv_root = "https://raw.githubusercontent.com/akshatvn/f1/main";
  var defaultConstructorColor = "#0074D9";
  var constructors, races, contructor_wins, results;
  var constructor_arr = [];
  var driver_arr = [];
  var selectedConstructor = null;
  var windowConstructor = null;
  var selectedDriver = null;
  var drivers = null;


  var tooltips = document.querySelectorAll('.float-container .custom-tooltip');

  window.onmousemove = function (e) {
    var x = (e.clientX + 20) + 'px',
      y = (e.clientY + 20) + 'px';
    for (var i = 0; i < tooltips.length; i++) {
      tooltips[i].style.top = y;
      tooltips[i].style.left = x;
      // tooltips[i].style.top = 100;
      // tooltips[i].style.left = 100;
    }
  };


  async function loadSingleDriverPage(selectedDriver) {
    const usefulResults = results.filter(c => c.driverId == selectedDriver.id);
    console.log("loadSingleDriverPage usefulResults", usefulResults);

    document.getElementById('page-3-title').innerHTML = "<a class='nav' onclick='gotoPage1()'> All Constructors 》</a> <a class='nav' onclick='gotoPage2()'> " + windowConstructor.name + " 》</a> " + selectedDriver.forename + ' ' + selectedDriver.surname ;
    document.getElementById('page-3-description').innerHTML = "<h3>" + selectedDriver.forename + ' ' + selectedDriver.surname + "'s Victories at a Glance</h3>";
    // document.getElementById('page-3-back-btn').innerHTML = "❮ Back to " + windowConstructor.name;

    allRaceIds = usefulResults.map(r => r.raceId);
    const usefulRaces = races.filter(c => allRaceIds.indexOf(c.raceId) != -1)
    console.log("usefulRaces", usefulRaces);

    var chartData = []; // array of {year:, constructor: points}
    let groupedData = {};
    let allConstructors = [];

    let maxPoints = 0;
    let yearWins = {};

    for (let i = 0; i < usefulRaces.length; i++) {
      let race = usefulRaces[i];
      let result = usefulResults.find(c => c.raceId == race.raceId);
      let constructor = constructors.find(c => c.constructorId == result.constructorId);

      if (!groupedData[race.year]) {
        groupedData[race.year] = {year: race.year}
      }
      if (!groupedData[race.year][constructor.constructorId]) {
        groupedData[race.year][constructor.constructorId] = 0
      }

      if (result.position === "1") {
        groupedData[race.year][constructor.constructorId] += 1;
        yearWins[race.year] += 1;
      }


      if ((allConstructors.indexOf(constructor.constructorId) == -1) && (groupedData[race.year][constructor.constructorId] > 0)) {
        allConstructors.push(constructor.constructorId);
      }
    }

    console.log("groupedData", groupedData);

    for (const k in groupedData) {
      chartData.push(groupedData[k])
    }

    for (let i = 0; i < chartData.length; i++) {
      row = chartData[i];
      for (const k in row) {
        if (k != 'year' && k != 'totalWins') {
          chartData[i]['totalWins'] = (chartData[i]['totalWins'] || 0) + row[k];
          if (maxPoints < chartData[i]['totalWins']) {
            maxPoints = chartData[i]['totalWins'];
          }
        }
      }
    }
    chartData = chartData.filter(c => c.totalWins > 0);
    chartYears = chartData.map(c => c.year);

    console.log("chartData", chartData);
    console.log("maxPoints", maxPoints);

    var margin = {top: 120, right: 160, bottom: 120, left: 160};

    var width = window.innerWidth * 0.6,
      height = window.innerHeight * 0.47;

    d3.select('#vis-driver').select('svg').remove();

    var svg = d3.select("#vis-driver")
      .append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
      .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


    var x = d3.scaleBand()
      .domain(chartYears)
      .range([0, width])
      .padding([0.2]);

    svg.append("g")
      .attr("transform", "translate(0," + height + ")")
      .call(d3.axisBottom(x).tickSizeOuter(0))
      .call(g => g.append("text")
        .attr("x", width / 2)
        .attr("y", margin.bottom / 4)
        .attr("fill", "currentColor")
        .attr("text-anchor", "end")
        .text("Year"));

    var y = d3.scaleLinear()
      .domain([0, maxPoints])
      .range([height, 0]);

    svg.append("g")
      .call(d3.axisLeft(y))
      .call(g => g.append("text")
        .attr("x", -height / 8)
        .attr("y", width / 3)
        .attr("fill", "currentColor")
        .attr("text-anchor", "end")
        .text("Wins"));

    const colorMap = {};
    const colors = allConstructors.map((c) => {
      con = constructors.find(d => d.constructorId == c);
      color = con.color;
      colorMap[color] = colorMap[color] || [];
      colorMap[color].push(con.name);
      return color;
    });

    var color = d3.scaleOrdinal()
      .domain(allConstructors)
      .range(colors);

    var stackedData = d3.stack()
      .keys(allConstructors)
      (chartData);

    svg.append("g")
      .selectAll("g")
      .data(stackedData)
      .enter().append("g")
      .attr("fill", function (d) {
        console.log(`COLOR: key: ${d.key} ; color: ${color(d.key)} ; constructor: ${colorMap[color(d.key)]} `);
        return color(d.key).length == 0 ? defaultConstructorColor : color(d.key);
      })
      .attr("data-constructor-name", function (d) {
        console.log(`key: ${d.key} ; color: ${color(d.key)} ; constructor: ${colorMap[color(d.key)]} `);
        return colorMap[color(d.key)];
      })
      .selectAll("rect")
      .data(function (d) {
        return d;
      })
      .enter().append("rect")
      .attr("x", function (d) {
        return x(d.data.year);
      })
      .attr("y", function (d) {
        return y(d[1]);
      })
      .attr("width", x.bandwidth())
      .attr("entity-type", "driver-year")

      .attr("height", function (d) {
        return y(d[0]) - y(d[1]);
      })
      .on("mouseover", handleMouseOver)
      .on("mouseout", handleMouseOut);

    var legend = svg.selectAll(".legend")
      .data(colors)
      .enter().append("g")
      .attr("class", "legend")
      .attr("transform", function (d, i) {
        return "translate(0," + i * 19 + ")";
      });

    legend.append("rect")
      .attr("x", width - 18)
      .attr("width", 18)
      .attr("height", 18)
      .style("fill", function (d, i) {
        return colors[i];
      });


    legend.append("text")
      .attr("x", width + 5)
      .attr("y", 9)
      .attr("dy", ".35em")
      .style("text-anchor", "start")
      .text(function (d, i) {
        return colorMap[d].join();
      });


    document.getElementById('page-3').classList.toggle('closed');
  }

  async function loadDriversPage(selectedConstructor) {
    windowConstructor = selectedConstructor;
    driver_arr = [];
    if (!drivers) {
      drivers = await d3.csv(csv_root + "/data/drivers.csv")
      delete drivers.columns;
    }
    console.log("drivers", drivers);

    if (!results) {
      results = await d3.csv(csv_root + "/data/results.csv");
      delete results.columns;
    }
    // console.log("results", results);
    document.getElementById('page-2-title').innerHTML = "<a class='nav' onclick='gotoPage1()'> All Constructors 》</a>" + selectedConstructor.name;
    document.getElementById('page-2-description').innerHTML = "<h3> Top " + selectedConstructor.name + " Drivers </h3>"
    document.getElementById('wins-for-con').innerHTML = "Wins for " + selectedConstructor.name;

    // document.getElementById('points-for-con').innerHTML = "Points for " + selectedConstructor.name;

    const usefulResults = results.filter(result => result.constructorId == selectedConstructor.id);
    console.log("usefulResults", usefulResults);

    let usefulDrivers = [];
    let addedDriverIds = [];
    for (var i = 0; i < usefulResults.length; i++) {
      result = usefulResults[i];

      if (addedDriverIds.indexOf(result.driverId) === -1) {
        let driver = drivers.find(d => d.driverId == result.driverId);
        if (driver) {
          addedDriverIds.push(result.driverId);
          usefulDrivers.push(driver);
        }
        driver = null
      }
    }
    console.log("usefulDrivers", usefulDrivers);
    var driverWins = {};
    for (i = 0; i < usefulResults.length; i++) {
      let record = usefulResults[i];
      let race = races.find(d => d.raceId == record.raceId);
      if (!driverWins[record.driverId]) {
        let currentDriver = drivers.find(d => d.driverId == record.driverId)
        driverWins[record.driverId] = {
          id: record.driverId,
          entityId: record.driverId,
          entityType: "driver",
          forename: currentDriver.forename,
          surname: currentDriver.surname,
          name: currentDriver.surname,
          wins: 0,
          races: 0,
          nationality: currentDriver.nationality,
          color: windowConstructor.color,
        }
      }
      if (record.position === "1") {
        driverWins[record.driverId].wins += 1;
        driverWins[record.driverId].bubbleRadius = driverWins[record.driverId].wins;
      }
      if (race) {
        let raceYear = parseInt(race.year);
        driverWins[record.driverId].maxYear = driverWins[record.driverId].maxYear || raceYear;
        if (driverWins[record.driverId].maxYear < raceYear) {
          driverWins[record.driverId].maxYear = raceYear
        }

        if (!driverWins[record.driverId].minYear || driverWins[record.driverId].minYear > raceYear) {
          driverWins[record.driverId].minYear = raceYear;
        }
      }


      driverWins[record.driverId].races += 1;
    }
    console.log("driverWins", driverWins);

    for (const driverId in driverWins) {
      driver_arr.push(driverWins[driverId])
    }
    driver_arr = driver_arr.sort((a, b) => a.wins < b.wins ? 1 : -1);
    console.log("driver_arr: ", driver_arr);

    display(driver_arr, '#vis-constructor-drivers');
    document.getElementById('page-2').classList.toggle('closed');

  }

  function gotoPage2() {
    document.getElementById('page-3').classList.add('closed');
    document.getElementById('page-1').classList.add('closed');
    display(constructor_arr, '#vis-all-constructors');
    document.getElementById('page-2').classList.remove('closed');
  }

  function gotoPage1() {
    document.getElementById('page-3').classList.add('closed');
    document.getElementById('page-2').classList.add('closed');
    display(constructor_arr, '#vis-all-constructors');
    document.getElementById('page-1').classList.remove('closed');
  }

  async function loadConstructorsPage() {

    if (!constructors) {
      constructors = await d3.csv(csv_root + "/data/constructors.csv");
      delete constructors.columns;
    }

    if (!races) {
      races = await d3.csv(csv_root + "/data/races.csv");
      delete races.columns;
    }


    if (!results) {
      results = await d3.csv(csv_root + "/data/results.csv");
      delete results.columns;
    }

    // console.log("constructors", constructors);


    contructor_wins = {};
    for (i = 0; i < results.length; i++) {
      let record = results[i];
      if (!contructor_wins[record.constructorId]) {
        let currentConstructor = constructors.find(c => c.constructorId == record.constructorId)
        contructor_wins[record.constructorId] = {
          id: record.constructorId,
          entityId: record.constructorId,
          entityType: "constructor",
          name: (currentConstructor).name,
          wins: 0,
          races: 0,
          nationality: currentConstructor.nationality,
          color: (currentConstructor).color,
          driver_ids: [],
          bubbleRadius: 0
        }
      }
      if (record.position === "1") {
        contructor_wins[record.constructorId].wins += 1;

      }
      contructor_wins[record.constructorId].races += 1;
      contructor_wins[record.constructorId].bubbleRadius = contructor_wins[record.constructorId].wins;
    }

    console.log("contructor_wins: ", contructor_wins);
    for (const constructorId in contructor_wins) {
      constructor_arr.push(contructor_wins[constructorId])
    }
    constructor_arr = constructor_arr.sort((a, b) => a.wins < b.wins ? 1 : -1)
    console.log("constructor_arr: ", constructor_arr);

    display(constructor_arr, '#vis-all-constructors');
    document.getElementById('page-1').classList.toggle('closed');
  }

  function bubbleChart(visId) {
    const width = window.innerWidth * 0.8;
    const height = window.innerHeight * 0.8;

    let forceStrength = 0.04; // magic number

    const center = {x: width / 2, y: height / 2};

    let svg = null;
    let bubbles = null;
    let labels = null;
    let nodes = [];

    let simulation = d3.forceSimulation()
      .force('charge', d3.forceManyBody().strength(d => Math.pow(d.radius, 2.0) * 0.04))
      .force('x', d3.forceX().strength(forceStrength).x(center.x))
      .force('y', d3.forceY().strength(forceStrength).y(center.y))
      .force('center', d3.forceCenter(center.x, center.y));

    // .force('collision', d3.forceCollide().radius(d => d.radius * 1.25));

    if (visId == '#vis-constructor-drivers') {
      window.setTimeout(function () {
        simulation =
          simulation.force('collision', d3.forceCollide().radius(d => d.radius * 1.25));
      }, 500);
    } else {
      simulation =
        simulation.force('collision', d3.forceCollide().radius(d => d.radius * 1.25));
    }


    function createNodes(rawData) {
      // if (ignoreZeros) {
      rawData = rawData.filter(d => d.wins > 0);
      // }

      const maxSize = d3.max(rawData, d => 4 + (+d.wins) * 5);

      const radiusScale = d3.scaleSqrt()
        .domain([0, maxSize])
        .range([0, height / 9]);

      const myNodes = rawData.map(d => ({
        ...d,
        radius: radiusScale(4 + (+d.wins) * 5),
        minYear: d.minYear,
        // size: +d.wins,
        x: (Math.random() - 0.5) * width,
        y: (Math.random() - 0.5) * height
      }));

      return myNodes;
    }

    // main entry point to bubble chart, returned by parent closure
    // prepares rawData for visualisation and adds an svg element to the provided selector and starts the visualisation process
    let chart = function chart(selector, rawData) {
      // convert raw data into nodes data
      nodes = createNodes(rawData);

      d3.select(selector).select('svg').remove();

      // create svg element inside provided selector
      svg = d3.select(selector)
        .append('svg')
        .attr('width', 0.9 * width)
        .attr('height', 0.9 * height)
        .attr('style', 'backgound: lightgray;');

      // bind nodes data to circle elements
      const elements = svg.selectAll('.bubble')
        .data(nodes, d => d.id)
        .enter()
        .append('g');

      bubbles = elements
        .append('circle')
        .classed('bubble', true)
        .attr('r', d => d.radius)
        .attr('entity-id', d => d.entityId)
        .attr('entity-type', d => d.entityType)
        .attr('fill', function (d) {
          if (!!d.color && d.color != "") {
            return d.color;
          }
          return defaultConstructorColor;
        })
        .attr('stroke', d => invertColor(d.color))
        .attr('stroke-width', 1)
        .on("mouseover", handleMouseOver)
        .on("mouseout", handleMouseOut)
        .on("click", handleMouseClickBubble);

      // labels
      labels = elements
        .append('text')
        .attr('constructor-id', d => d.id)
        .classed('bubble-label', true)
        .attr('dy', '.3em')
        .attr('id', d => "bubble-label-" + d.id)
        .style('text-anchor', 'middle')
        .style('font-size', 12)
        .style('fill', d => invertColor(d.color))
        .text(d => d.wins > 45 ? d.name + ": " + d.wins : "");

      simulation.nodes(nodes)
        .on('tick', ticked)
        .restart();
    };

    function ticked() {
      bubbles
        .attr('cx', d => d.x)
        .attr('cy', d => d.y);

      labels
        .attr('x', d => d.x)
        .attr('y', d => d.y);
    }

    // return chart function from closure
    return chart;
  }

  function display(data, visId) {
    let myBubbleChart = bubbleChart(visId);
    myBubbleChart(visId, data);
  }

  // function to find color of font to be written on top of bubble (for contrast)
  function invertColor(hex) {
    function padZero(str, len) {
      len = len || 2;
      var zeros = new Array(len).join('0');
      return (zeros + str).slice(-len);
    }

    if (!hex) {
      hex = defaultConstructorColor;
    }
    if (hex.indexOf('#') === 0) {
      hex = hex.slice(1);
    }
    if (hex.length === 3) {
      hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
    }
    if (hex.length !== 6) {
      hex = defaultConstructorColor;
    }
    var r = (255 - parseInt(hex.slice(0, 2), 16)).toString(16),
      g = (255 - parseInt(hex.slice(2, 4), 16)).toString(16),
      b = (255 - parseInt(hex.slice(4, 6), 16)).toString(16);
    return '#' + padZero(r) + padZero(g) + padZero(b);
  }


  // Create Event Handlers for mouse
  function handleMouseOver(d, i) {  // Add interactivity
    if (this.getAttribute("entity-type") == "constructor") {
      document.getElementById('constructor-detail').classList.toggle('closed');
      selectedConstructor = constructor_arr.find(c => c.id == d.id);
      populateCurrentConstructorTable(selectedConstructor);
    } else if (this.getAttribute("entity-type") == "driver") {
      document.getElementById('driver-detail').classList.toggle('closed');
      selectedDriver = driver_arr.find(c => c.id == d.id);
      populateCurrentDriverTable(selectedDriver);
    } else if (this.getAttribute("entity-type") == "driver-year") {
      document.getElementById('driver-year-detail').classList.toggle('closed');
      populateCurrentDriverYearDetailTable(
        d, {
          constructorName: this.parentNode.getAttribute("data-constructor-name")
        }
      );
    }
    d3.select(this).attr("r", d.radius * 1.2);
  }

  function handleMouseOut(d, i) {
    if (this.getAttribute("entity-type") == "constructor") {
      document.getElementById('constructor-detail').classList.toggle('closed');
      selectedConstructor = null;
      clearCurrentConstructorTable();
    } else if (this.getAttribute("entity-type") == "driver") {
      document.getElementById('driver-detail').classList.toggle('closed');
      selectedDriver = null;
      clearCurrentDriverTable();
    } else if (this.getAttribute("entity-type") == "driver-year") {
      document.getElementById('driver-year-detail').classList.toggle('closed');
      // selectedDriverYearDetail = driverYearDetails.find(c => (c.id == d.driverId) )
      clearCurrentDriverYearDetailTable();
    }
    d3.select(this).attr("r", d.radius);
  }

  function handleMouseClickBubble(d, i) {
    if (this.getAttribute("entity-type") == "constructor") {
      selectedConstructor = constructor_arr.find(c => c.id == d.id);
      console.log("selected constructor", selectedConstructor);
      document.getElementById('page-1').classList.toggle('closed');
      loadDriversPage(selectedConstructor);
    } else if (this.getAttribute("entity-type") == "driver") {
      selectedDriver = driver_arr.find(c => c.id == d.id);
      console.log("selected driver", selectedDriver);
      document.getElementById('page-2').classList.toggle('closed');
      loadSingleDriverPage(selectedDriver, selectedConstructor);
    }
  }

  function populateCurrentDriverYearDetailTable(d, options) {
    document.getElementById('td-driver-year-wins').innerHTML = d[1] - d[0];
    document.getElementById('td-driver-year-constructor').innerHTML = options.constructorName;
  }

  function clearCurrentDriverYearDetailTable() {
    document.getElementById('td-driver-year-wins').innerHTML = '';
    document.getElementById('td-driver-year-constructor').innerHTML = '';
  }

  function populateCurrentConstructorTable(selectedConstructor) {
    document.getElementById("td-constructor-name").innerHTML = selectedConstructor.name;
    document.getElementById("td-constructor-nationality").innerHTML = selectedConstructor.nationality;
    document.getElementById("td-constructor-races").innerHTML = selectedConstructor.races;
    document.getElementById("td-constructor-wins").innerHTML = selectedConstructor.wins;
  }

  function populateCurrentDriverTable(selectedDriver) {
    document.getElementById("td-driver-name").innerHTML = selectedDriver.forename + ' ' + selectedDriver.surname;
    document.getElementById("td-driver-nationality").innerHTML = selectedDriver.nationality;
    document.getElementById("td-driver-races").innerHTML = selectedDriver.races;
    document.getElementById("td-driver-wins").innerHTML = selectedDriver.wins;
    document.getElementById("td-driver-first-yr").innerHTML = selectedDriver.minYear;
    document.getElementById("td-driver-last-yr").innerHTML = selectedDriver.maxYear;
  }

  function clearCurrentDriverTable() {
    document.getElementById("td-driver-name").innerHTML = '';
    document.getElementById("td-driver-nationality").innerHTML = '';
    document.getElementById("td-driver-races").innerHTML = '';
    document.getElementById("td-driver-wins").innerHTML = '';
    document.getElementById("td-driver-first-yr").innerHTML = '';
    document.getElementById("td-driver-last-yr").innerHTML = '';
  }

  function clearCurrentConstructorTable() {
    document.getElementById("td-constructor-name").innerHTML = '';
    document.getElementById("td-constructor-nationality").innerHTML = '';
    document.getElementById("td-constructor-races").innerHTML = '';
    document.getElementById("td-constructor-wins").innerHTML = '';
  }


</script>
<script>

</script>

